import { Meta } from '@storybook/blocks';

<Meta title="Guides/Theming" />

# Theming Guide

This guide explains how to customize the appearance of shadcn-web-components using CSS variables.

## Overview

shadcn-web-components uses CSS custom properties (CSS variables) for theming. All design tokens are defined in the `tokens.css` file and can be overridden to match your application's design system.

## Getting Started

To customize the theme, you need to override the CSS variables defined in the `:root` selector. You can do this in several ways:

### Method 1: Global Override

Add your custom CSS variables to your application's global stylesheet:

```css
:root {
  /* Override color tokens */
  --background: oklch(0.95 0 0);
  --foreground: oklch(0.15 0 0);
  --primary: oklch(0.5 0.2 250);
  --primary-foreground: oklch(0.98 0 0);
  
  /* Override spacing */
  --spacing-4: 1.5rem;
  
  /* Override border radius */
  --radius-lg: 0.75rem;
}
```

### Method 2: Scoped Override

Override variables for a specific container or component:

```css
.my-theme {
  --background: oklch(0.95 0 0);
  --foreground: oklch(0.15 0 0);
  --primary: oklch(0.5 0.2 250);
}

/* Apply to a container */
<div class="my-theme">
  <shadcn-button>Button</shadcn-button>
</div>
```

### Method 3: Import and Override

If you're importing the styles, you can override them after import:

```css
@import '@billy_mcdowell/shadcn-web-components/dist/styles/index.js';

:root {
  --primary: oklch(0.5 0.2 250);
  --primary-foreground: oklch(0.98 0 0);
}
```

## Available CSS Variables

### Color Tokens

The library provides a comprehensive color system based on the shadcn design principles:

#### Base Colors
- `--background`: Main background color
- `--foreground`: Main text/foreground color
- `--card`: Card background color
- `--card-foreground`: Card text color
- `--popover`: Popover background color
- `--popover-foreground`: Popover text color

#### Semantic Colors
- `--primary`: Primary brand color
- `--primary-foreground`: Text color on primary background
- `--secondary`: Secondary color
- `--secondary-foreground`: Text color on secondary background
- `--muted`: Muted/subtle background color
- `--muted-foreground`: Text color on muted background
- `--accent`: Accent color for highlights
- `--accent-foreground`: Text color on accent background
- `--destructive`: Error/destructive action color
- `--destructive-foreground`: Text color on destructive background

#### UI Element Colors
- `--border`: Border color
- `--input`: Input field border/background color
- `--ring`: Focus ring color

#### Sidebar Colors
- `--sidebar`: Sidebar background color
- `--sidebar-foreground`: Sidebar text color
- `--sidebar-primary`: Sidebar primary accent color
- `--sidebar-primary-foreground`: Text color on sidebar primary
- `--sidebar-accent`: Sidebar accent color
- `--sidebar-accent-foreground`: Text color on sidebar accent
- `--sidebar-border`: Sidebar border color
- `--sidebar-ring`: Sidebar focus ring color

#### Chart Colors
- `--chart-1` through `--chart-5`: Chart color palette

### Typography Tokens

#### Font Sizes
- `--font-size-xs`: 0.75rem (12px)
- `--font-size-sm`: 0.875rem (14px)
- `--font-size-base`: 1rem (16px)
- `--font-size-lg`: 1.125rem (18px)
- `--font-size-xl`: 1.25rem (20px)
- `--font-size-2xl`: 1.5rem (24px)
- `--font-size-3xl`: 1.875rem (30px)
- `--font-size-4xl`: 2.25rem (36px)

#### Font Weights
- `--font-normal`: 400
- `--font-medium`: 500
- `--font-semibold`: 600
- `--font-bold`: 700

#### Font Families
- `--font-sans`: Sans-serif font stack
- `--font-mono`: Monospace font stack

#### Line Heights
- `--leading-none`: 1
- `--leading-tight`: 1.25
- `--leading-snug`: 1.375
- `--leading-normal`: 1.5
- `--leading-relaxed`: 1.625
- `--leading-loose`: 2

### Spacing Tokens

- `--spacing-1`: 0.25rem (4px)
- `--spacing-2`: 0.5rem (8px)
- `--spacing-3`: 0.75rem (12px)
- `--spacing-4`: 1rem (16px)
- `--spacing-5`: 1.25rem (20px)
- `--spacing-6`: 1.5rem (24px)
- `--spacing-8`: 2rem (32px)
- `--spacing-10`: 2.5rem (40px)
- `--spacing-12`: 3rem (48px)

### Border Radius Tokens

- `--radius-sm`: 0.25rem (4px)
- `--radius-md`: 0.375rem (6px)
- `--radius-lg`: 0.5rem (8px)
- `--radius-xl`: 0.75rem (12px)
- `--radius-2xl`: 1rem (16px)
- `--radius-full`: 9999px (fully rounded)

### Shadow Tokens

- `--shadow-sm`: Small shadow
- `--shadow-md`: Medium shadow
- `--shadow-lg`: Large shadow
- `--shadow-xl`: Extra large shadow

### Transition Tokens

- `--transition-fast`: 150ms cubic-bezier(0.4, 0, 0.2, 1)
- `--transition-normal`: 300ms cubic-bezier(0.4, 0, 0.2, 1)
- `--transition-slow`: 500ms cubic-bezier(0.4, 0, 0.2, 1)

**Note:** Transitions automatically respect `prefers-reduced-motion` and are set to 0ms when the user prefers reduced motion.

## Color Format

The library uses the `oklch()` color function for better color manipulation and consistency. The format is:

```css
oklch(lightness chroma hue)
```

- **Lightness**: 0-1 (0 = black, 1 = white)
- **Chroma**: 0-0.4 (0 = grayscale, higher = more saturated)
- **Hue**: 0-360 (color wheel position)

### Example Color Definitions

```css
:root {
  /* Light theme example */
  --background: oklch(0.98 0 0);        /* Near white */
  --foreground: oklch(0.15 0 0);        /* Near black */
  --primary: oklch(0.5 0.2 250);        /* Blue with medium saturation */
  --destructive: oklch(0.55 0.22 25);   /* Red with medium saturation */
  
  /* Dark theme example */
  --background: oklch(0.145 0 0);       /* Very dark gray */
  --foreground: oklch(0.985 0 0);       /* Near white */
  --primary: oklch(0.7 0.15 250);       /* Lighter blue for dark theme */
}
```

## Creating a Light Theme

To create a light theme, override the color variables with lighter values:

```css
:root {
  --background: oklch(0.98 0 0);
  --foreground: oklch(0.15 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.15 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.15 0 0);
  --primary: oklch(0.4 0.2 250);
  --primary-foreground: oklch(0.98 0 0);
  --secondary: oklch(0.96 0 0);
  --secondary-foreground: oklch(0.15 0 0);
  --muted: oklch(0.96 0 0);
  --muted-foreground: oklch(0.45 0 0);
  --accent: oklch(0.96 0 0);
  --accent-foreground: oklch(0.15 0 0);
  --destructive: oklch(0.55 0.22 25);
  --destructive-foreground: oklch(0.98 0 0);
  --border: oklch(0.9 0 0);
  --input: oklch(0.9 0 0);
  --ring: oklch(0.4 0.2 250);
}
```

## Creating a Custom Color Scheme

You can create a custom color scheme by overriding the primary, accent, and other semantic colors:

```css
:root {
  /* Custom purple theme */
  --primary: oklch(0.5 0.2 280);
  --primary-foreground: oklch(0.98 0 0);
  --accent: oklch(0.6 0.15 280);
  --accent-foreground: oklch(0.15 0 0);
  
  /* Custom destructive color (e.g., orange instead of red) */
  --destructive: oklch(0.6 0.2 40);
  --destructive-foreground: oklch(0.98 0 0);
}
```

## Dynamic Theming

You can implement dynamic theme switching using JavaScript:

```javascript
// Toggle between light and dark themes
function toggleTheme() {
  const root = document.documentElement;
  const isDark = root.style.getPropertyValue('--background') === 'oklch(0.145 0 0)';
  
  if (isDark) {
    // Switch to light theme
    root.style.setProperty('--background', 'oklch(0.98 0 0)');
    root.style.setProperty('--foreground', 'oklch(0.15 0 0)');
    // ... set other light theme variables
  } else {
    // Switch to dark theme
    root.style.setProperty('--background', 'oklch(0.145 0 0)');
    root.style.setProperty('--foreground', 'oklch(0.985 0 0)');
    // ... set other dark theme variables
  }
}
```

Or use CSS classes for theme switching:

```css
.theme-light {
  --background: oklch(0.98 0 0);
  --foreground: oklch(0.15 0 0);
  /* ... other light theme variables */
}

.theme-dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  /* ... other dark theme variables */
}
```

```javascript
// Toggle theme class
document.documentElement.classList.toggle('theme-light');
document.documentElement.classList.toggle('theme-dark');
```

## Best Practices

1. **Maintain Contrast**: Ensure sufficient contrast between foreground and background colors for accessibility (WCAG AA minimum).

2. **Use Semantic Colors**: Use semantic color names (`--primary`, `--destructive`) rather than specific colors (`--blue`, `--red`) to maintain flexibility.

3. **Test Both Themes**: If supporting multiple themes, test all components in both light and dark modes.

4. **Respect User Preferences**: Consider using `prefers-color-scheme` media query for automatic theme detection:
   ```css
   @media (prefers-color-scheme: light) {
     :root {
       --background: oklch(0.98 0 0);
       --foreground: oklch(0.15 0 0);
     }
   }
   
   @media (prefers-color-scheme: dark) {
     :root {
       --background: oklch(0.145 0 0);
       --foreground: oklch(0.985 0 0);
     }
   }
   ```

5. **Override Selectively**: Only override the variables you need to change. The library provides sensible defaults.

6. **Use CSS Variables**: Always use CSS variables rather than hardcoded values to maintain theme consistency.

## Examples

### Complete Light Theme Override

```css
:root {
  /* Base colors */
  --background: oklch(0.98 0 0);
  --foreground: oklch(0.15 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.15 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.15 0 0);
  
  /* Semantic colors */
  --primary: oklch(0.4 0.2 250);
  --primary-foreground: oklch(0.98 0 0);
  --secondary: oklch(0.96 0 0);
  --secondary-foreground: oklch(0.15 0 0);
  --muted: oklch(0.96 0 0);
  --muted-foreground: oklch(0.45 0 0);
  --accent: oklch(0.96 0 0);
  --accent-foreground: oklch(0.15 0 0);
  --destructive: oklch(0.55 0.22 25);
  --destructive-foreground: oklch(0.98 0 0);
  
  /* UI elements */
  --border: oklch(0.9 0 0);
  --input: oklch(0.9 0 0);
  --ring: oklch(0.4 0.2 250);
}
```

### Custom Brand Colors

```css
:root {
  /* Brand colors */
  --primary: oklch(0.5 0.25 200);        /* Custom blue */
  --primary-foreground: oklch(0.98 0 0);
  --accent: oklch(0.6 0.2 320);          /* Custom purple */
  --accent-foreground: oklch(0.98 0 0);
  
  /* Keep other colors as default or customize as needed */
}
```

## Additional Resources

- [OKLCH Color Space](https://oklch.com/) - Learn more about the OKLCH color format
- [CSS Custom Properties](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties) - MDN documentation on CSS variables
- [WCAG Contrast Guidelines](https://www.w3.org/WAI/WCAG21/Understanding/contrast-minimum.html) - Accessibility guidelines for color contrast
